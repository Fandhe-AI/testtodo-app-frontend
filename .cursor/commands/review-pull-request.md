# GitHub プルリクエストレビュー

## 概要

指定されたプルリクエストをレビューし、改善点や指摘事項を提示します。

## 使用方法

このコマンドを使用する際は、以下の情報を提供してください：
- **PR番号**: レビューするプルリクエストの番号

例：
```
PR番号: 57
```

## 手順

1. **プルリクエスト情報の取得**
  - GitHub CLI (`gh`) を使用してPR情報を取得
  - PRのタイトル、本文、変更内容を確認

2. **変更内容の確認**
  - `git diff` で変更内容を確認
  - 変更されたファイルをリスト化

3. **コードレビューの実施**
  - コードの品質、設計、パフォーマンス、セキュリティなどの観点でレビュー
  - プロジェクトのコーディング規約に準拠しているか確認
  - FSDアーキテクチャのルールに従っているか確認

4. **レビューコメントの作成**
  - 改善点や指摘事項を整理
  - 優先度を付けて提示

## レビューの観点

以下の観点でレビューを実施してください：

### 1. コード品質
- **型安全性**: TypeScriptの型が適切に使用されているか
- **エラーハンドリング**: 適切なエラーハンドリングが実装されているか
- **コードの重複**: コードの重複がないか
- **命名規則**: 命名規則に従っているか（kebab-case、PascalCaseなど）

### 2. アーキテクチャ
- **FSDルール**: Feature Sliced Designのルールに従っているか
- **レイヤー構造**: 適切なレイヤーに配置されているか
- **インポートルール**: インポートルールに従っているか
- **セグメント分離**: `ui/`、`model/`、`api/`が適切に分離されているか

### 3. パフォーマンス
- **不要な再レンダリング**: 不要な再レンダリングがないか
- **コード分割**: 適切にコード分割されているか
- **画像最適化**: `next/image`が使用されているか

### 4. セキュリティ
- **入力バリデーション**: 適切な入力バリデーションが実装されているか
- **認証・認可**: 適切な認証・認可が実装されているか
- **機密情報**: 機密情報が適切に管理されているか

### 5. テスト
- **テストカバレッジ**: 適切なテストが追加されているか
- **テストの品質**: テストの品質が適切か

### 6. ドキュメント
- **コメント**: 必要な箇所にコメントが追加されているか
- **README**: READMEが更新されているか（必要に応じて）

## レビューコメントの形式

以下の形式でレビューコメントを作成してください：

```markdown
## レビュー結果

### ✅ 良い点
- [良い点1]
- [良い点2]

### ⚠️ 改善が必要な点

#### 高優先度
- [改善点1] - [理由]
- [改善点2] - [理由]

#### 中優先度
- [改善点1] - [理由]
- [改善点2] - [理由]

#### 低優先度（任意）
- [改善点1] - [理由]
- [改善点2] - [理由]

### 📝 その他のコメント
- [その他のコメント]
```

## レビューコメントの例

```markdown
## レビュー結果

### ✅ 良い点
- FSDアーキテクチャのルールに従って適切に実装されている
- 型安全性が保たれている
- エラーハンドリングが適切に実装されている

### ⚠️ 改善が必要な点

#### 高優先度
- `batch-completion-handler.ts`と`batch-error-handler.ts`でコードの重複がある - 共通処理を抽出してコードの重複を解消してください
- エラーハンドリングでログ出力が不足している - エラー発生時に適切なログを出力してください

#### 中優先度
- URL正規化のテストが不足している - `url-helpers.test.ts`にテストを追加してください
- ドキュメントにエラー処理フローが記載されていない - 設計ドキュメントにエラー処理フローを追記してください

#### 低優先度（任意）
- コメントを追加すると可読性が向上します - 複雑なロジックにはコメントを追加してください
```

## 注意事項

- **建設的なフィードバック**: 建設的で具体的なフィードバックを提供してください
- **優先度の明確化**: 改善点には優先度を付けて提示してください
- **良い点も指摘**: 良い点も積極的に指摘してください
- **日本語で記述**: レビューコメントは日本語で書いてください
- **想定外の作業**: 想定外の作業が発生したり、エラーが見つかった場合はユーザに相談してください

## チェックリスト

レビュー後、以下を確認してください：

- [ ] PR情報が正しく取得できている
- [ ] 変更内容が適切に確認できている
- [ ] すべてのレビュー観点が確認されている
- [ ] レビューコメントが適切な形式で作成されている
- [ ] 優先度が適切に設定されている
- [ ] 日本語で記述されている

